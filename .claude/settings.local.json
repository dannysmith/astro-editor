{
  "permissions": {
    "allow": [
      "Bash(npx shadcn@latest add:*)",
      "Bash(npx shadcn@latest init:*)",
      "mcp__context7__resolve-library-id",
      "mcp__context7__get-library-docs",
      "Bash(ls:*)",
      "Bash(npm run:*)",
      "Bash(npm install:*)",
      "WebFetch(domain:ui.shadcn.com)",
      "Bash(npx:*)",
      "Bash(npm update:*)",
      "Bash(git checkout:*)",
      "WebFetch(domain:github.com)",
      "Bash(npm uninstall:*)",
      "WebFetch(domain:raw.githubusercontent.com)",
      "Bash(mkdir:*)",
      "Bash(cp:*)",
      "WebFetch(domain:v2.tauri.app)",
      "Bash(cargo test:*)",
      "WebFetch(domain:discuss.codemirror.net)",
      "Bash(pkill:*)",
      "Bash(cargo check:*)",
      "Bash(cargo fmt:*)",
      "Bash(node:*)",
      "Bash(npm add:*)",
      "WebFetch(domain:medium.com)",
      "WebFetch(domain:codemirror.net)",
      "Bash(mv:*)",
      "Bash(touch:*)",
      "Bash(npm test:*)",
      "Bash(true)",
      "Bash(rmdir:*)",
      "WebFetch(domain:ia.net)",
      "Bash(git mv:*)",
      "WebFetch(domain:docs.anthropic.com)",
      "Bash(RUST_BACKTRACE=1 npm run rust:test)",
      "Bash(RUST_BACKTRACE=1 cargo test test_validate_project_path_valid -- --nocapture)",
      "WebFetch(domain:v1.tauri.app)",
      "WebFetch(domain:bundlephobia.com)",
      "WebFetch(domain:bundlephobia.com)",
      "Bash(gh run list:*)",
      "Bash(npm outdated)",
      "Bash(cargo:*)",
      "Bash(pnpm:*)",
      "WebSearch",
      "Bash(git log:*)",
      "Bash(yes)",
      "Bash(cat:*)",
      "WebFetch(domain:docs.astro.build)",
      "WebFetch(domain:rustsec.org)",
      "WebFetch(domain:crates.io)",
      "SlashCommand(/check)",
      "WebFetch(domain:api.github.com)",
      "Bash(gh issue comment 69 --repo dannysmith/astro-editor --body \"$(cat <<''EOF''\n## Research Findings\n\n### Font Support\n**iA Writer fonts do NOT support RTL scripts** (Arabic, Hebrew, Persian). They only cover Latin + CJK.\n\n**Solution**: Font fallback stack with Noto Naskh Arabic, Noto Sans Hebrew, and Tahoma. Browsers handle this transparently.\n\n### CodeMirror 6 Support\nCodeMirror 6 has **native RTL support**:\n- `EditorView.perLineTextDirection.of(true)` - per-line direction detection\n- `bidiIsolates()` extension - handles punctuation isolation\n- Visual cursor motion works correctly\n- [CodeMirror RTL docs](https://codemirror.net/examples/bidi/)\n\n### The Challenge: Markdown + RTL\n**CommonMark has no RTL specification.** The main issue is that markdown syntax (`*`, `#`, `-`, `[]`) are \"neutral\" Unicode characters that can be reordered by the bidi algorithm.\n\n**Solution**: Apply `unicode-bidi: isolate` to syntax elements in CSS.\n\n### Real-World Implementations\n- [Joplin RTL PR](https://github.com/laurent22/joplin/pull/10810) - CodeMirror 6 implementation\n- [Obsidian RTL Plugin](https://github.com/esm7/obsidian-rtl)\n\n### Implementation Estimate\n| Level | What You Get |\n|-------|--------------|\n| Basic | Font fallbacks + CodeMirror config + base CSS (~50-100 LOC) |\n| Enhanced | + Syntax isolation + UI toggle + per-document settings |\n| Advanced | + Smart auto-detection heuristics + keyboard nav fixes |\n\n### Known Limitations\n- Inline mixing of RTL/LTR within same line can be imperfect\n- Home/End key navigation has edge cases\n- Auto-detection needs heuristics to ignore markdown syntax at line start\n\n### Verdict\n**Achievable.** Basic implementation is ~2-3 days work. Font issue is solved via fallbacks. CodeMirror provides the foundation. Main work is CSS isolation and UI controls.\nEOF\n)\")"
    ],
    "deny": []
  }
}
